{
  "openapi": "3.0.3",
  "info": {
    "version": "1.0.1",
    "title": "Swagger SoYummy",
    "description": "This is a sample Cooking Book Server based on the OpenAPI 3.0 specification. \n\n\nSome useful links:\n- [The SoYummy FrontEnd repository](https://github.com/NatashaFedorova/so-yummy),\n- [The SoYummy BackEnd repository](https://github.com/stan-nikola/t2d-SoYammy-backEnd)"
  },
  "externalDocs": {
    "description": "Live page The SoYummy  App",
    "url": "https://natashafedorova.github.io/so-yummy/"
  },
  "servers": [
    {
      "url": "https://t2d-soyammy-backend.onrender.com/api"
    }
  ],

  "tags": [
    {
      "name": "auth",
      "description": "User Authorization"
    },
    {
      "name": "user",
      "description": "Operations about user"
    },

    {
      "name": "recipes",
      "description": "Access to recipe"
    },
    {
      "name": "ownrecipes",
      "description": "Access to recipe"
    },
    {
      "name": "ingredients",
      "description": "Access to ingredient"
    }
  ],
  "paths": {
    "/recipes/category-list": {
      "get": {
        "tags": ["recipes"],
        "summary": "Returns recipes categoty list",
        "description": "Returns array of ingredients",
        "security": [{ "Bearer": [] }],
        "responses": {
          "200": {
            "description": "successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Category-list"
                }
              }
            }
          },
          "401": {
            "description": "unautorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            }
          }
        }
      }
    },
    "/recipes/main-page": {
      "get": {
        "tags": ["recipes"],
        "summary": "Returns recipes by category to the main page",
        "description": "Returns an array of recipes sorted by category as objects.",
        "security": [{ "Bearer": [] }],
        "responses": {
          "200": {
            "description": "successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Main-page"
                }
              }
            }
          },
          "401": {
            "description": "unautorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            }
          }
        }
      }
    },
    "/category/{category}": {
      "get": {
        "tags": ["recipes"],
        "summary": "Returns recipes by category",
        "description": "Returns an object that consists of an array of recipes of the specified category and the total number of recipes.",
        "security": [{ "Bearer": [] }],
        "parameters": [
          {
            "in": "path",
            "name": "category",
            "required": true,
            "type": "string",
            "description": "recipe category",
            "example": "Dessert"
          },
          {
            "in": "query",
            "name": "page",
            "type": "intager",
            "description": "page number",
            "example": 1
          },
          {
            "in": "query",
            "name": "limit",
            "type": "intager",
            "description": "recipes quantity by one page",
            "example": 8
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Main-page"
                }
              }
            }
          },
          "401": {
            "description": "unautorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            }
          }
        }
      }
    },
    "/ingredients/list": {
      "get": {
        "tags": ["ingredients"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Returns all ingredients",
        "description": "Returns array of object with ingredient data",
        "operationId": "getInventory",
        "responses": {
          "200": {
            "description": "successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IngredientsList"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            }
          }
        }
      }
    },
    "/ingredients": {
      "get": {
        "tags": ["ingredients"],
        "summary": "Get recipe by ingredient name ",
        "description": "\n\n\nExtras:\n- Example: ingredients?query=cucumber&page=1&limit=3 \n- added the totalCount field to each object, which shows the total number of objects in the collection upon request",

        "parameters": [
          {
            "name": "query",
            "in": "query",
            "description": "The ingredient name for search",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Returns 12 objects per page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Page limit \n- default limit 12 items, with limit=<limit> return as much as you like depending on the length of the collection ",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Main-page"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Ingredient name query must be passed"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/ownrecipes": {
      "post": {
        "security": [{ "Bearer": [] }],
        "tags": ["ownrecipes"],
        "summary": "Add own recipe",
        "description": "Returns an object with new added recipe.",
        "consumes": ["multipart/form-data"],

        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": "[title,category,instructions,time,description,ingredients]",
                "properties": {
                  "recipeImage": {
                    "type": "file",
                    "description": "Recipe image. If the image is not provided, the default one is set"
                  },
                  "title": {
                    "type": "string",
                    "description": "Recipe title",
                    "example": "Fried eggplant"
                  },
                  "category": {
                    "type": "string",
                    "description": "Recipe category",
                    "example": "Starter"
                  },
                  "area": {
                    "type": "string",
                    "description": "Recipe area",
                    "example": "Ukraine"
                  },
                  "instructions": {
                    "type": "string",
                    "description": "Recipe instructions",
                    "example": "Lorem ipsum dolor sit amet"
                  },
                  "description": {
                    "type": "string",
                    "description": "Recipe description",
                    "example": "Lorem ipsum dolor sit amet"
                  },
                  "time": {
                    "type": "string",
                    "description": "Recipe preparing time ",
                    "example": "30"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "example": "baking"
                    }
                  },
                  "ingredients": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "example": {
                        "id": "640c2dd963a319ea671e376c",
                        "measure": "3/4 cup"
                      }
                    },
                    "description": "Recipe ingredients"
                  }
                }
              }
            }
          }
        },

        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NewRecipe"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            }
          },
          "400": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FieldsValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "security": [{ "Bearer": [] }],
        "tags": ["ownrecipes"],
        "summary": "Get own recipe",
        "description": "\n\n\nExtras:\n- Example: ownRecipes/?page=1&limit=6  \n- added the totalCount field to each object, which shows the total number of objects in the collection upon request",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Returns 4 objects per page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Page limit \n- default limit 4 items, with limit=<limit> return as much as you like depending on the length of the collection ",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Main-page"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            }
          }
        }
      },
      "delete": {
        "security": [{ "Bearer": [] }],
        "tags": ["ownrecipes"],
        "summary": "Delete own recipe",
        "description": "",
        "parameters": [
          {
            "name": "recipeId",
            "in": "path",
            "description": "ID of the recipe that needs to be deleted",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recipe deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "recipe deleted"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Recipe not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Recipe with id: 644036a2a4c0b82549aca081 not found"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "unautorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            }
          }
        }
      }
    }
  },

  "components": {
    "schemas": {
      "Category-list": {
        "type": "array",
        "items": {
          "type": "string",
          "example": "Beef"
        },
        "example": ["Beef", "Chicken", "Dessert"]
      },
      "Main-page": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "_id": {
              "type": "string",
              "description": "Unique identifier for the category",
              "example": "Chicken"
            },
            "recipes": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "_id": {
                    "type": "string",
                    "description": "Unique identifier for the recipe",
                    "example": "640cd5ac2d9fecf12e8897f1"
                  },
                  "title": {
                    "type": "string",
                    "description": "Title of the recipe",
                    "example": "Pad See Ew"
                  },
                  "category": {
                    "type": "string",
                    "description": "Category of the recipe",
                    "example": "Chicken"
                  },
                  "area": {
                    "type": "string",
                    "description": "Area where the recipe is from",
                    "example": "Thai"
                  },
                  "instructions": {
                    "type": "string",
                    "description": "Instructions for making the recipe",
                    "example": "Mix Sauce in small bowl.\r\nMince garlic into wok with oil. Place over high heat, when hot, add chicken and Chinese broccoli stems, cook until chicken is light golden.\r\nPush to the side of the wok, crack egg in and scramble. Don't worry if it sticks to the bottom of the wok - it will char and which adds authentic flavour.\r\nAdd noodles, Chinese broccoli leaves and sauce. Gently mix together until the noodles are stained dark and leaves are wilted. Serve immediately!"
                  },
                  "description": {
                    "type": "string",
                    "description": "Description of the recipe",
                    "example": "A Thai stir-fry dish made with wide rice noodles, soy sauce, oyster sauce, Chinese broccoli, and meat (such as chicken or beef)."
                  },
                  "thumb": {
                    "type": "string",
                    "description": "Thumbnail image URL for the recipe",
                    "example": "https://www.themealdb.com/images/media/meals/uuuspp1468263334.jpg"
                  },
                  "preview": {
                    "type": "string",
                    "description": "Preview image URL for the recipe",
                    "example": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678560401/nl3ks6ugu4uafh8fp4ot.jpg"
                  },
                  "time": {
                    "type": "string",
                    "description": "Total cooking time for the recipe",
                    "example": "20"
                  },
                  "youtube": {
                    "type": "string",
                    "description": "YouTube video URL for the recipe",
                    "example": "https://www.youtube.com/watch?v=Ohy1DELF4is"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "description": "Tags for the recipe",
                      "example": "Pasta"
                    }
                  },
                  "createdAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Date and time when the recipe was created",
                    "example": "2023-03-11T19:25:33.240Z"
                  },
                  "updatedAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Date and time when the recipe was last updated",
                    "example": "2023-04-14T20:02:28.085Z"
                  },
                  "ingredients": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "Unique identifier for the ingredient",
                          "example": "640c2dd963a319ea671e3755"
                        },
                        "measure": {
                          "type": "string",
                          "description": "Measurement unit for the ingredient",
                          "example": "2 tbsp"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "CategoryById": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Unique identifier for the recipe",
            "example": "640cd5ac2d9fecf12e8897f5"
          },
          "title": {
            "type": "string",
            "description": "Title of the recipe",
            "example": "Mediterranean Pasta Salad"
          },
          "category": {
            "type": "string",
            "description": "Category of the recipe",
            "example": "Seafood"
          },
          "area": {
            "type": "string",
            "description": "Area where the recipe is from",
            "example": "Italian"
          },
          "instructions": {
            "type": "string",
            "description": "Instructions for making the recipe",
            "example": "Bring a large saucepan of salted water to the boil\r\nAdd the pasta, stir once and cook for about 10 minutes or as directed on the packet.\r\nMeanwhile, wash the tomatoes and cut into quarters. Slice the olives. Wash the basil.\r\nPut the tomatoes into a salad bowl and tear the basil leaves over them. Add a tablespoon of olive oil and mix.\r\nWhen the pasta is ready, drain into a colander and run cold water over it to cool it quickly.\r\nToss the pasta into the salad bowl with the tomatoes and basil.\r\nAdd the sliced olives, drained mozzarella balls, and chunks of tuna. Mix well and let the salad rest for at least half an hour to allow the flavours to mingle.\r\nSprinkle the pasta with a generous grind of black pepper and drizzle with the remaining olive oil just before serving."
          },
          "description": {
            "type": "string",
            "description": "Description of the recipe",
            "example": "A salad made with pasta, vegetables (such as tomatoes, cucumbers, and olives), feta cheese, and a dressing made with olive oil and lemon juice."
          },
          "thumb": {
            "type": "string",
            "description": "Thumbnail image URL for the recipe",
            "example": "https://www.themealdb.com/images/media/meals/wvqpwt1468339226.jpg"
          },
          "preview": {
            "type": "string",
            "description": "Preview image URL for the recipe",
            "example": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678560402/mwtf7uqrnsxvlpjqtslc.jpg"
          },
          "time": {
            "type": "string",
            "description": "Total cooking time for the recipe",
            "example": "27"
          },
          "youtube": {
            "type": "string",
            "description": "YouTube video URL for the recipe",
            "example": "https://www.youtube.com/watch?v=e52IL8zYmaE"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string",
              "example": "Pasta"
            },
            "description": "Tags for the recipe",
            "example": ["Pasta", "Baking"]
          },
          "createdAt": {
            "type": "string",
            "description": "Date and time when the recipe was created",
            "example": "2023-03-11T19:25:33.240Z"
          },
          "updatedAt": {
            "type": "string",
            "description": "Date and time when the recipe was last updated",
            "example": "2023-04-14T20:02:28.085Z"
          },
          "ingredients": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "measure": {
                  "type": "string",
                  "description": "Measurement unit for the ingredient",
                  "example": "200 g"
                },
                "_id": {
                  "type": "string",
                  "description": "Unique identifier for the ingredient",
                  "example": "640c2dd963a319ea671e3724"
                },
                "ttl": {
                  "type": "string",
                  "description": "Title of the ingredient",
                  "example": "Mozzarella Balls"
                },
                "desc": {
                  "type": "string",
                  "description": "Description of the ingredient",
                  "example": "Small, round balls of mozzarella cheese that are soft, smooth, and milky in flavor, and are often used as a topping for pizzas, salads, and pasta dishes."
                },
                "t": {
                  "type": "string",
                  "description": "Additional information about the ingredient",
                  "example": ""
                },
                "thb": {
                  "type": "string",
                  "description": "Thumbnail image URL for the ingredient",
                  "example": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564797/jgwujfs7lp8bvymction.png"
                }
              }
            },
            "description": "Ingredients required for the recipe"
          }
        }
      },
      "IngredientsList": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "measure": {
              "type": "string",
              "description": "Measurement unit for the ingredient",
              "example": "200 g"
            },
            "_id": {
              "type": "string",
              "description": "Unique identifier for the ingredient",
              "example": "640c2dd963a319ea671e3724"
            },
            "ttl": {
              "type": "string",
              "description": "Title of the ingredient",
              "example": "Mozzarella Balls"
            },
            "desc": {
              "type": "string",
              "description": "Description of the ingredient",
              "example": "Small, round balls of mozzarella cheese that are soft, smooth, and milky in flavor, and are often used as a topping for pizzas, salads, and pasta dishes."
            },
            "t": {
              "type": "string",
              "description": "Additional information about the ingredient",
              "example": ""
            },
            "thb": {
              "type": "string",
              "description": "Thumbnail image URL for the ingredient",
              "example": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564797/jgwujfs7lp8bvymction.png"
            }
          }
        }
      },
      "Unauthorized": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Not authorized"
          }
        }
      },
      "FieldsValidationError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "title is required"
          }
        }
      },
      "NewRecipe": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Unique identifier for the recipe",
            "example": "640cd5ac2d9fecf12e8897f5"
          },
          "title": {
            "type": "string",
            "description": "Title of the recipe",
            "example": "Mediterranean Pasta Salad"
          },
          "category": {
            "type": "string",
            "description": "Category of the recipe",
            "example": "Seafood"
          },
          "area": {
            "type": "string",
            "description": "Area where the recipe is from",
            "example": "Italian"
          },
          "instructions": {
            "type": "string",
            "description": "Instructions for making the recipe",
            "example": "Bring a large saucepan of salted water to the boil\r\nAdd the pasta, stir once and cook for about 10 minutes or as directed on the packet.\r\nMeanwhile, wash the tomatoes and cut into quarters. Slice the olives. Wash the basil.\r\nPut the tomatoes into a salad bowl and tear the basil leaves over them. Add a tablespoon of olive oil and mix.\r\nWhen the pasta is ready, drain into a colander and run cold water over it to cool it quickly.\r\nToss the pasta into the salad bowl with the tomatoes and basil.\r\nAdd the sliced olives, drained mozzarella balls, and chunks of tuna. Mix well and let the salad rest for at least half an hour to allow the flavours to mingle.\r\nSprinkle the pasta with a generous grind of black pepper and drizzle with the remaining olive oil just before serving."
          },
          "description": {
            "type": "string",
            "description": "Description of the recipe",
            "example": "A salad made with pasta, vegetables (such as tomatoes, cucumbers, and olives), feta cheese, and a dressing made with olive oil and lemon juice."
          },
          "thumb": {
            "type": "string",
            "description": "Thumbnail image URL for the recipe",
            "example": "https://www.themealdb.com/images/media/meals/wvqpwt1468339226.jpg"
          },
          "preview": {
            "type": "string",
            "description": "Preview image URL for the recipe",
            "example": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678560402/mwtf7uqrnsxvlpjqtslc.jpg"
          },
          "time": {
            "type": "string",
            "description": "Total cooking time for the recipe",
            "example": "27"
          },

          "tags": {
            "type": "array",
            "items": {
              "type": "string",
              "example": "Pasta"
            },
            "description": "Tags for the recipe",
            "example": ["Pasta", "Baking"]
          },
          "createdAt": {
            "type": "string",
            "description": "Date and time when the recipe was created",
            "example": "2023-03-11T19:25:33.240Z"
          },
          "updatedAt": {
            "type": "string",
            "description": "Date and time when the recipe was last updated",
            "example": "2023-04-14T20:02:28.085Z"
          },
          "ingredients": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "measure": {
                  "type": "string",
                  "description": "Measurement unit for the ingredient",
                  "example": "200 g"
                },
                "_id": {
                  "type": "string",
                  "description": "Unique identifier for the ingredient",
                  "example": "640c2dd963a319ea671e3724"
                },
                "ttl": {
                  "type": "string",
                  "description": "Title of the ingredient",
                  "example": "Mozzarella Balls"
                },
                "desc": {
                  "type": "string",
                  "description": "Description of the ingredient",
                  "example": "Small, round balls of mozzarella cheese that are soft, smooth, and milky in flavor, and are often used as a topping for pizzas, salads, and pasta dishes."
                },
                "t": {
                  "type": "string",
                  "description": "Additional information about the ingredient",
                  "example": ""
                },
                "thb": {
                  "type": "string",
                  "description": "Thumbnail image URL for the ingredient",
                  "example": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564797/jgwujfs7lp8bvymction.png"
                }
              }
            }
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },

  "securitySchemes": {
    "bearerAuth": {
      "type": "http",
      "scheme": "bearer",
      "bearerFormat": "JWT"
    }
  }
}
